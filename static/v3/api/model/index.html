<!DOCTYPE html><!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]--><!--[if gt IE 8]><!--><html class="no-js" lang="en"><!--<![endif]--><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="canonical" href="https://sequelize.org/v3/docs/api/model/">
  <link rel="shortcut icon" href="/v3/favicon.ico">
  
  <title>Model - Sequelize | The Node.js / io.js ORM for PostgreSQL, MySQL, SQLite and MSSQL</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700">

  <link rel="stylesheet" href="/v3/css/theme.css">
  <link rel="stylesheet" href="/v3/css/theme_extra.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">
  <link href="/v3/css/custom.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Model";
    var mkdocs_page_input_path = "api/model.md";
    var mkdocs_page_url = "/api/model/";
  </script>
  
  <script src="/v3/js/jquery-2.1.1.min.js" defer=""></script>
  <script src="/v3/js/modernizr-2.8.3.min.js" defer=""></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
<meta name="robots" content="noindex"></head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="/v3" class="icon icon-home"> Sequelize | The Node.js / io.js ORM for PostgreSQL, MySQL, SQLite and MSSQL</a>
        <div role="search">
  <form id="rtd-search-form" class="wy-form" action="/v3/search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here">
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="/v3">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Documentation</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/docs/getting-started/">Getting Started</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/docs/schema/">Working with table schemas</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Models</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="/v3/docs/models-definition/">Definition</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="/v3/docs/models-usage/">Usage</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/docs/querying/">Querying</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/docs/scopes/">Scopes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/docs/instances/">Instances</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/docs/associations/">Relations / Associations</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/docs/hooks/">Hooks</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/docs/transactions/">Transactions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/docs/legacy/">Working with legacy tables</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/docs/raw-queries/">Raw queries</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/docs/migrations/">Migrations</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">API</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="/v3/api/sequelize/">Sequelize</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Model</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#mixes">Mixes:</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#removeattributeattribute">removeAttribute([attribute])</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#sync-promisethis">sync() -&gt; Promise.&lt;this&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dropoptions-promise">drop([options]) -&gt; Promise</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#schemaschema-options-this">schema(schema, [options]) -&gt; this</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#gettablenameoptions-stringobject">getTableName([options]) -&gt; String|Object</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#unscoped-model">unscoped() -&gt; Model</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#addscopename-scope-options">addScope(name, scope, [options])</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#scopeoptions-model">scope(options*) -&gt; Model</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#findalloptions-promisearrayinstance">findAll([options]) -&gt; Promise.&lt;Array.&lt;Instance&gt;&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#findbyidid-options-promiseinstance">findById(id, [options]) -&gt; Promise.&lt;Instance&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#findoneoptions-promiseinstance">findOne([options]) -&gt; Promise.&lt;Instance&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#aggregatefield-aggregatefunction-options-promiseoptionsdatatypeobject">aggregate(field, aggregateFunction, [options]) -&gt; Promise.&lt;options.dataType|object&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#countoptions-promiseinteger">count([options]) -&gt; Promise.&lt;Integer&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#findandcountfindoptions-promiseobject">findAndCount([findOptions]) -&gt; Promise.&lt;Object&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#maxfield-options-promiseany">max(field, [options]) -&gt; Promise.&lt;Any&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#minfield-options-promiseany">min(field, [options]) -&gt; Promise.&lt;Any&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#sumfield-options-promisenumber">sum(field, [options]) -&gt; Promise.&lt;Number&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#buildvalues-options-instance">build(values, [options]) -&gt; Instance</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#createvalues-options-promiseinstance">create(values, [options]) -&gt; Promise.&lt;Instance&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#findorinitialize-promiseinstance-initialized">findOrInitialize -&gt; Promise.&lt;Instance, initialized&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#findorcreateoptions-promiseinstance-created">findOrCreate(options) -&gt; Promise.&lt;Instance, created&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#findcreatefindoptions-promiseinstance-created">findCreateFind(options) -&gt; Promise.&lt;Instance, created&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#upsertvalues-options-promisecreated">upsert(values, [options]) -&gt; Promise.&lt;created&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#bulkcreaterecords-options-promisearrayinstance">bulkCreate(records, [options]) -&gt; Promise.&lt;Array.&lt;Instance&gt;&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#truncateoptions-promise">truncate([options]) -&gt; Promise</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#destroyoptions-promiseinteger">destroy(options) -&gt; Promise.&lt;Integer&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#restoreoptions-promiseundefined">restore(options) -&gt; Promise.&lt;undefined&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#updatevalues-options-promisearrayaffectedcount-affectedrows">update(values, options) -&gt; Promise.&lt;Array.&lt;affectedCount, affectedRows&gt;&gt;</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#describe-promise">describe() -&gt; Promise</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/api/instance/">Instance</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Associations</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="/v3/api/associations/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="/v3/api/associations/belongs-to/">BelongsTo (1:1)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="/v3/api/associations/has-one/">HasOne (1:1)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="/v3/api/associations/has-many/">HasMany (1:m)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="/v3/api/associations/belongs-to-many/">BelongsToMany (n:m)</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/api/hooks/">Hooks</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/api/transaction/">Transaction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/api/datatypes/">Datatypes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/api/deferrable/">Deferrable</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/api/errors/">Errors</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Misc</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/changelog/">Changelog</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="/v3/imprint/">Imprint</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="/v3">Sequelize | The Node.js / io.js ORM for PostgreSQL, MySQL, SQLite and MSSQL</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="/v3">Docs</a> »</li>
    
      
        
          <li>API »</li>
        
      
    
    <li>Model</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/sequelize/sequelize/edit/master/docs/api/model.md" class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr>
</div>

          <div role="main">
            <div class="section">
              
                <p><a name="model"></a></p>
<h1 id="class-model">Class Model</h1>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L26">View code</a></p>
<p>A Model represents a table in the database. Sometimes you might also see it referred to as model, or simply as factory.
This class should <em>not</em> be instantiated directly, it is created using <code>sequelize.define</code>, and already created models can be loaded using <code>sequelize.import</code></p>
<h3 id="mixes">Mixes:</h3>
<ul>
<li>Hooks</li>
<li>Associations</li>
</ul>
<hr>
<p><a name="removeattribute"></a></p>
<h2 id="removeattributeattribute"><code>removeAttribute([attribute])</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L964">View code</a></p>
<p>Remove attribute from model definition</p>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>[attribute]</td>
<td>String</td>
<td></td>
</tr>
</tbody>
</table>
<hr>
<p><a name="sync"></a></p>
<h2 id="sync-promisethis"><code>sync()</code> -&gt; <code>Promise.&lt;this&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L974">View code</a></p>
<p>Sync this Model to the DB, that is create the table. Upon success, the callback will be called with the model instance (this)</p>
<p><strong>See:</strong></p>
<ul>
<li><a href="./sequelize#sync">Sequelize#sync</a></li>
</ul>
<hr>
<p><a name="drop"></a></p>
<h2 id="dropoptions-promise"><code>drop([options])</code> -&gt; <code>Promise</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1022">View code</a></p>
<p>Drop the table represented by this Model</p>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>[options]</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>[options.cascade=false]</td>
<td>Boolean</td>
<td>Also drop all objects depending on this table, such as views. Only works in postgres</td>
</tr>
<tr>
<td>[options.logging=false]</td>
<td>Function</td>
<td>A function that gets executed while running the query to log the sql.</td>
</tr>
<tr>
<td>[options.benchmark=false]</td>
<td>Boolean</td>
<td>Print query execution time in milliseconds when logging SQL.</td>
</tr>
</tbody>
</table>
<hr>
<p><a name="schema"></a></p>
<h2 id="schemaschema-options-this"><code>schema(schema, [options])</code> -&gt; <code>this</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1041">View code</a></p>
<p>Apply a schema to this model. For postgres, this will actually place the schema in front of the table name - <code>"schema"."tableName"</code>,
while the schema will be prepended to the table name for mysql and sqlite - <code>'schema.tablename'</code>.</p>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>schema</td>
<td>String</td>
<td>The name of the schema</td>
</tr>
<tr>
<td>[options]</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>[options.schemaDelimiter='.']</td>
<td>String</td>
<td>The character(s) that separates the schema name from the table name</td>
</tr>
<tr>
<td>[options.logging=false]</td>
<td>Function</td>
<td>A function that gets executed while running the query to log the sql.</td>
</tr>
<tr>
<td>[options.benchmark=false]</td>
<td>Boolean</td>
<td>Print query execution time in milliseconds when logging SQL.</td>
</tr>
</tbody>
</table>
<hr>
<p><a name="gettablename"></a></p>
<h2 id="gettablenameoptions-stringobject"><code>getTableName([options])</code> -&gt; <code>String|Object</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1075">View code</a></p>
<p>Get the tablename of the model, taking schema into account. The method will return The name as a string if the model has no schema,
or an object with <code>tableName</code>, <code>schema</code> and <code>delimiter</code> properties.</p>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>[options]</td>
<td>Object</td>
<td>The hash of options from any query. You can use one model to access tables with matching schemas by overriding <code>getTableName</code> and using custom key/values to alter the name of the table. (eg. subscribers_1, subscribers_2)</td>
</tr>
<tr>
<td>[options.logging=false]</td>
<td>Function</td>
<td>A function that gets executed while running the query to log the sql.</td>
</tr>
<tr>
<td>[options.benchmark=false]</td>
<td>Boolean</td>
<td>Print query execution time in milliseconds when logging SQL.</td>
</tr>
</tbody>
</table>
<hr>
<p><a name="unscoped"></a></p>
<h2 id="unscoped-model"><code>unscoped()</code> -&gt; <code>Model</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1082">View code</a></p>
<hr>
<p><a name="addscope"></a></p>
<h2 id="addscopename-scope-options"><code>addScope(name, scope, [options])</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1096">View code</a></p>
<p>Add a new scope to the model. This is especially useful for adding scopes with includes, when the model you want to include is not available at the time this model is defined.</p>
<p>By default this will throw an error if a scope with that name already exists. Pass <code>override: true</code> in the options object to silence this error.</p>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>String</td>
<td>The name of the scope. Use <code>defaultScope</code> to override the default scope</td>
</tr>
<tr>
<td>scope</td>
<td>Object | Function</td>
<td></td>
</tr>
<tr>
<td>[options]</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>[options.override=false]</td>
<td>Boolean</td>
<td></td>
</tr>
</tbody>
</table>
<hr>
<p><a name="scope"></a></p>
<h2 id="scopeoptions-model"><code>scope(options*)</code> -&gt; <code>Model</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1160">View code</a></p>
<p>Apply a scope created in <code>define</code> to the model. First let's look at how to create scopes:</p>
<pre><code class="language-js">var Model = sequelize.define('model', attributes, {
  defaultScope: {
    where: {
      username: 'dan'
    },
    limit: 12
  },
  scopes: {
    isALie: {
      where: {
        stuff: 'cake'
      }
    },
    complexFunction: function(email, accessLevel) {
      return {
        where: {
          email: {
            $like: email
          },
          accesss_level {
            $gte: accessLevel
          }
        }
      }
    }
  }
})
</code></pre>
<p>Now, since you defined a default scope, every time you do Model.find, the default scope is appended to your query. Here's a couple of examples:</p>
<pre><code class="language-js">Model.findAll() // WHERE username = 'dan'
Model.findAll({ where: { age: { gt: 12 } } }) // WHERE age &gt; 12 AND username = 'dan'
</code></pre>
<p>To invoke scope functions you can do:</p>
<pre><code class="language-js">Model.scope({ method: ['complexFunction' 'dan@sequelize.com', 42]}).findAll()
// WHERE email like 'dan@sequelize.com%' AND access_level &gt;= 42
</code></pre>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>options*</td>
<td>Array | Object | String</td>
<td>The scope(s) to apply. Scopes can either be passed as consecutive arguments, or as an array of arguments. To apply simple scopes and scope functions with no arguments, pass them as strings. For scope function, pass an object, with a <code>method</code> property. The value can either be a string, if the method does not take any arguments, or an array, where the first element is the name of the method, and consecutive elements are arguments to that method. Pass null to remove all scopes, including the default.</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong> A reference to the model, with the scope(s) applied. Calling scope again on the returned model will clear the previous scope.</p>
<hr>
<p><a name="findall"></a></p>
<h2 id="findalloptions-promisearrayinstance"><code>findAll([options])</code> -&gt; <code>Promise.&lt;Array.&lt;Instance&gt;&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1327">View code</a></p>
<p>Search for multiple instances.</p>
<p><strong>Simple search using AND and =</strong></p>
<pre><code class="language-js">Model.findAll({
  where: {
    attr1: 42,
    attr2: 'cake'
  }
})
</code></pre>
<pre><code class="language-sql">WHERE attr1 = 42 AND attr2 = 'cake'
</code></pre>
<p><strong>Using greater than, less than etc.</strong></p>
<pre><code class="language-js">
Model.findAll({
  where: {
    attr1: {
      gt: 50
    },
    attr2: {
      lte: 45
    },
    attr3: {
      in: [1,2,3]
    },
    attr4: {
      ne: 5
    }
  }
})
</code></pre>
<pre><code class="language-sql">WHERE attr1 &gt; 50 AND attr2 &lt;= 45 AND attr3 IN (1,2,3) AND attr4 != 5
</code></pre>
<p>Possible options are: <code>$ne, $in, $not, $notIn, $gte, $gt, $lte, $lt, $like, $ilike/$iLike, $notLike, $notILike, '..'/$between, '!..'/$notBetween, '&amp;&amp;'/$overlap, '@&gt;'/$contains, '&lt;@'/$contained</code></p>
<p><strong>Queries using OR</strong></p>
<pre><code class="language-js">Model.findAll({
  where: {
    name: 'a project',
    $or: [
      {id: [1, 2, 3]},
      {
        $and: [
          {id: {gt: 10}},
          {id: {lt: 100}}
        ]
      }
    ]
  }
});
</code></pre>
<pre><code class="language-sql">WHERE `Model`.`name` = 'a project' AND (`Model`.`id` IN (1, 2, 3) OR (`Model`.`id` &gt; 10 AND `Model`.`id` &lt; 100));
</code></pre>
<p>The success listener is called with an array of instances if the query succeeds.</p>
<p><strong>See:</strong></p>
<ul>
<li><a href="./sequelize#query">Sequelize#query</a></li>
</ul>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>[options]</td>
<td>Object</td>
<td>A hash of options to describe the scope of the search</td>
</tr>
<tr>
<td>[options.where]</td>
<td>Object</td>
<td>A hash of attributes to describe your search. See above for examples.</td>
</tr>
<tr>
<td>[options.attributes]</td>
<td>Array.&lt;String&gt; | Object</td>
<td>A list of the attributes that you want to select, or an object with <code>include</code> and <code>exclude</code> keys. To rename an attribute, you can pass an array, with two elements - the first is the name of the attribute in the DB (or some kind of expression such as <code>Sequelize.literal</code>, <code>Sequelize.fn</code> and so on), and the second is the name you want the attribute to have in the returned instance</td>
</tr>
<tr>
<td>[options.attributes.include]</td>
<td>Array.&lt;String&gt;</td>
<td>Select all the attributes of the model, plus some additional ones. Useful for aggregations, e.g. <code>{ attributes: { include: [[sequelize.fn('COUNT', sequelize.col('id')), 'total']] }</code></td>
</tr>
<tr>
<td>[options.attributes.exclude]</td>
<td>Array.&lt;String&gt;</td>
<td>Select all the attributes of the model, except some few. Useful for security purposes e.g. <code>{ attributes: { exclude: ['password'] } }</code></td>
</tr>
<tr>
<td>[options.paranoid=true]</td>
<td>Boolean</td>
<td>If true, only non-deleted records will be returned. If false, both deleted and non-deleted records will be returned. Only applies if <code>options.paranoid</code> is true for the model.</td>
</tr>
<tr>
<td>[options.include]</td>
<td>Array.&lt;Object | Model&gt;</td>
<td>A list of associations to eagerly load using a left join. Supported is either <code>{ include: [ Model1, Model2, ...]}</code> or <code>{ include: [{ model: Model1, as: 'Alias' }]}</code>. If your association are set up with an <code>as</code> (eg. <code>X.hasMany(Y, { as: 'Z }</code>, you need to specify Z in the as attribute when eager loading Y).</td>
</tr>
<tr>
<td>[options.include[].model]</td>
<td>Model</td>
<td>The model you want to eagerly load</td>
</tr>
<tr>
<td>[options.include[].as]</td>
<td>String</td>
<td>The alias of the relation, in case the model you want to eagerly load is aliased. For <code>hasOne</code> / <code>belongsTo</code>, this should be the singular name, and for <code>hasMany</code>, it should be the plural</td>
</tr>
<tr>
<td>[options.include[].association]</td>
<td>Association</td>
<td>The association you want to eagerly load. (This can be used instead of providing a model/as pair)</td>
</tr>
<tr>
<td>[options.include[].where]</td>
<td>Object</td>
<td>Where clauses to apply to the child models. Note that this converts the eager load to an inner join, unless you explicitly set <code>required: false</code></td>
</tr>
<tr>
<td>[options.include[].or=false]</td>
<td>Boolean</td>
<td>Whether to bind the ON and WHERE clause together by OR instead of AND.</td>
</tr>
<tr>
<td>[options.include[].on]</td>
<td>Object</td>
<td>Supply your own ON condition for the join.</td>
</tr>
<tr>
<td>[options.include[].attributes]</td>
<td>Array.&lt;String&gt;</td>
<td>A list of attributes to select from the child model</td>
</tr>
<tr>
<td>[options.include[].required]</td>
<td>Boolean</td>
<td>If true, converts to an inner join, which means that the parent model will only be loaded if it has any matching children. True if <code>include.where</code> is set, false otherwise.</td>
</tr>
<tr>
<td>[options.include[].separate]</td>
<td>Boolean</td>
<td>If true, runs a separate query to fetch the associated instances, only supported for hasMany associations</td>
</tr>
<tr>
<td>[options.include[].limit]</td>
<td>Number</td>
<td>Limit the joined rows, only supported with include.separate=true</td>
</tr>
<tr>
<td>[options.include[].through.where]</td>
<td>Object</td>
<td>Filter on the join model for belongsToMany relations</td>
</tr>
<tr>
<td>[options.include[].through.attributes]</td>
<td>Array</td>
<td>A list of attributes to select from the join model for belongsToMany relations</td>
</tr>
<tr>
<td>[options.include[].include]</td>
<td>Array.&lt;Object | Model&gt;</td>
<td>Load further nested related models</td>
</tr>
<tr>
<td>[options.order]</td>
<td>String | Array | Sequelize.fn</td>
<td>Specifies an ordering. If a string is provided, it will be escaped. Using an array, you can provide several columns / functions to order by. Each element can be further wrapped in a two-element array. The first element is the column / function to order by, the second is the direction. For example: <code>order: [['name', 'DESC']]</code>. In this way the column will be escaped, but the direction will not.</td>
</tr>
<tr>
<td>[options.limit]</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>[options.offset]</td>
<td>Number</td>
<td></td>
</tr>
<tr>
<td>[options.transaction]</td>
<td>Transaction</td>
<td>Transaction to run query under</td>
</tr>
<tr>
<td>[options.lock]</td>
<td>String | Object</td>
<td>Lock the selected rows. Possible options are transaction.LOCK.UPDATE and transaction.LOCK.SHARE. Postgres also supports transaction.LOCK.KEY_SHARE, transaction.LOCK.NO_KEY_UPDATE and specific model locks with joins. See <a href="./transaction#lock">transaction.LOCK for an example</a></td>
</tr>
<tr>
<td>[options.raw]</td>
<td>Boolean</td>
<td>Return raw result. See sequelize.query for more information.</td>
</tr>
<tr>
<td>[options.logging=false]</td>
<td>Function</td>
<td>A function that gets executed while running the query to log the sql.</td>
</tr>
<tr>
<td>[options.having]</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>[options.searchPath=DEFAULT]</td>
<td>String</td>
<td>An optional parameter to specify the schema search_path (Postgres only)</td>
</tr>
<tr>
<td>[options.benchmark=false]</td>
<td>Boolean</td>
<td>Print query execution time in milliseconds when logging SQL.</td>
</tr>
</tbody>
</table>
<p><strong>Aliases:</strong> all</p>
<hr>
<p><a name="findbyid"></a></p>
<h2 id="findbyidid-options-promiseinstance"><code>findById(id, [options])</code> -&gt; <code>Promise.&lt;Instance&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1456">View code</a></p>
<p>Search for a single instance by its primary key.</p>
<p><strong>See:</strong></p>
<ul>
<li><a href="./model#findall">Model#findAll</a></li>
</ul>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Number | String | Buffer</td>
<td>The value of the desired instance's primary key.</td>
</tr>
<tr>
<td>[options]</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>[options.transaction]</td>
<td>Transaction</td>
<td>Transaction to run query under</td>
</tr>
<tr>
<td>[options.searchPath=DEFAULT]</td>
<td>String</td>
<td>An optional parameter to specify the schema search_path (Postgres only)</td>
</tr>
</tbody>
</table>
<p><strong>Aliases:</strong> findByPrimary</p>
<hr>
<p><a name="findone"></a></p>
<h2 id="findoneoptions-promiseinstance"><code>findOne([options])</code> -&gt; <code>Promise.&lt;Instance&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1487">View code</a></p>
<p>Search for a single instance. This applies LIMIT 1, so the listener will always be called with a single instance.</p>
<p><strong>See:</strong></p>
<ul>
<li><a href="./model#findall">Model#findAll</a></li>
</ul>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>[options]</td>
<td>Object</td>
<td>A hash of options to describe the scope of the search</td>
</tr>
<tr>
<td>[options.transaction]</td>
<td>Transaction</td>
<td>Transaction to run query under</td>
</tr>
<tr>
<td>[options.searchPath=DEFAULT]</td>
<td>String</td>
<td>An optional parameter to specify the schema search_path (Postgres only)</td>
</tr>
</tbody>
</table>
<p><strong>Aliases:</strong> find</p>
<hr>
<p><a name="aggregate"></a></p>
<h2 id="aggregatefield-aggregatefunction-options-promiseoptionsdatatypeobject"><code>aggregate(field, aggregateFunction, [options])</code> -&gt; <code>Promise.&lt;options.dataType|object&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1525">View code</a></p>
<p>Run an aggregation method on the specified field</p>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>String</td>
<td>The field to aggregate over. Can be a field name or *</td>
</tr>
<tr>
<td>aggregateFunction</td>
<td>String</td>
<td>The function to use for aggregation, e.g. sum, max etc.</td>
</tr>
<tr>
<td>[options]</td>
<td>Object</td>
<td>Query options. See sequelize.query for full options</td>
</tr>
<tr>
<td>[options.where]</td>
<td>Object</td>
<td>A hash of search attributes.</td>
</tr>
<tr>
<td>[options.logging=false]</td>
<td>Function</td>
<td>A function that gets executed while running the query to log the sql.</td>
</tr>
<tr>
<td>[options.dataType]</td>
<td>DataType | String</td>
<td>The type of the result. If <code>field</code> is a field in this Model, the default will be the type of that field, otherwise defaults to float.</td>
</tr>
<tr>
<td>[options.distinct]</td>
<td>boolean</td>
<td>Applies DISTINCT to the field being aggregated over</td>
</tr>
<tr>
<td>[options.transaction]</td>
<td>Transaction</td>
<td>Transaction to run query under</td>
</tr>
<tr>
<td>[options.plain]</td>
<td>Boolean</td>
<td>When <code>true</code>, the first returned value of <code>aggregateFunction</code> is cast to <code>dataType</code> and returned. If additional attributes are specified, along with <code>group</code> clauses, set <code>plain</code> to <code>false</code> to return all values of all returned rows. Defaults to <code>true</code></td>
</tr>
<tr>
<td>[options.benchmark=false]</td>
<td>Boolean</td>
<td>Print query execution time in milliseconds when logging SQL.</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong> Returns the aggregate result cast to <code>options.dataType</code>, unless <code>options.plain</code> is false, in which case the complete data result is returned.</p>
<hr>
<p><a name="count"></a></p>
<h2 id="countoptions-promiseinteger"><code>count([options])</code> -&gt; <code>Promise.&lt;Integer&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1579">View code</a></p>
<p>Count the number of records matching the provided where clause.</p>
<p>If you provide an <code>include</code> option, the number of matching associations will be counted instead.</p>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>[options]</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>[options.where]</td>
<td>Object</td>
<td>A hash of search attributes.</td>
</tr>
<tr>
<td>[options.include]</td>
<td>Object</td>
<td>Include options. See <code>find</code> for details</td>
</tr>
<tr>
<td>[options.distinct]</td>
<td>boolean</td>
<td>Apply COUNT(DISTINCT(col)) on primary key, <code>Model.aggregate</code> should be used for other columns</td>
</tr>
<tr>
<td>[options.attributes]</td>
<td>Object</td>
<td>Used in conjunction with <code>group</code></td>
</tr>
<tr>
<td>[options.group]</td>
<td>Object</td>
<td>For creating complex counts. Will return multiple rows as needed.</td>
</tr>
<tr>
<td>[options.transaction]</td>
<td>Transaction</td>
<td>Transaction to run query under</td>
</tr>
<tr>
<td>[options.logging=false]</td>
<td>Function</td>
<td>A function that gets executed while running the query to log the sql.</td>
</tr>
<tr>
<td>[options.searchPath=DEFAULT]</td>
<td>String</td>
<td>An optional parameter to specify the schema search_path (Postgres only)</td>
</tr>
<tr>
<td>[options.benchmark=false]</td>
<td>Boolean</td>
<td>Print query execution time in milliseconds when logging SQL.</td>
</tr>
</tbody>
</table>
<hr>
<p><a name="findandcount"></a></p>
<h2 id="findandcountfindoptions-promiseobject"><code>findAndCount([findOptions])</code> -&gt; <code>Promise.&lt;Object&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1638">View code</a></p>
<p>Find all the rows matching your query, within a specified offset / limit, and get the total number of rows matching your query. This is very useful for paging</p>
<pre><code class="language-js">Model.findAndCountAll({
  where: ...,
  limit: 12,
  offset: 12
}).then(function (result) {
  ...
})
</code></pre>
<p>In the above example, <code>result.rows</code> will contain rows 13 through 24, while <code>result.count</code> will return the total number of rows that matched your query.</p>
<p>When you add includes, only those which are required (either because they have a where clause, or because <code>required</code> is explicitly set to true on the include) will be added to the count part.</p>
<p>Suppose you want to find all users who have a profile attached:</p>
<pre><code class="language-js">User.findAndCountAll({
  include: [
     { model: Profile, required: true}
  ],
  limit 3
});
</code></pre>
<p>Because the include for <code>Profile</code> has <code>required</code> set it will result in an inner join, and only the users who have a profile will be counted. If we remove <code>required</code> from the include, both users with and without profiles will be counted</p>
<p><strong>See:</strong></p>
<ul>
<li><a href="./model#findall">Model#findAll</a></li>
</ul>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>[findOptions]</td>
<td>Object</td>
<td>See findAll</td>
</tr>
</tbody>
</table>
<p><strong>Aliases:</strong> findAndCountAll</p>
<hr>
<p><a name="max"></a></p>
<h2 id="maxfield-options-promiseany"><code>max(field, [options])</code> -&gt; <code>Promise.&lt;Any&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1702">View code</a></p>
<p>Find the maximum value of field</p>
<p><strong>See:</strong></p>
<ul>
<li><a href="./model#aggregate">Model#aggregate</a></li>
</ul>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>[options]</td>
<td>Object</td>
<td>See aggregate</td>
</tr>
</tbody>
</table>
<hr>
<p><a name="min"></a></p>
<h2 id="minfield-options-promiseany"><code>min(field, [options])</code> -&gt; <code>Promise.&lt;Any&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1715">View code</a></p>
<p>Find the minimum value of field</p>
<p><strong>See:</strong></p>
<ul>
<li><a href="./model#aggregate">Model#aggregate</a></li>
</ul>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>[options]</td>
<td>Object</td>
<td>See aggregate</td>
</tr>
</tbody>
</table>
<hr>
<p><a name="sum"></a></p>
<h2 id="sumfield-options-promisenumber"><code>sum(field, [options])</code> -&gt; <code>Promise.&lt;Number&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1728">View code</a></p>
<p>Find the sum of field</p>
<p><strong>See:</strong></p>
<ul>
<li><a href="./model#aggregate">Model#aggregate</a></li>
</ul>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>[options]</td>
<td>Object</td>
<td>See aggregate</td>
</tr>
</tbody>
</table>
<hr>
<p><a name="build"></a></p>
<h2 id="buildvalues-options-instance"><code>build(values, [options])</code> -&gt; <code>Instance</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1743">View code</a></p>
<p>Builds a new model instance. Values is an object of key value pairs, must be defined but can be empty.</p>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>values</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>[options]</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>[options.raw=false]</td>
<td>Boolean</td>
<td>If set to true, values will ignore field and virtual setters.</td>
</tr>
<tr>
<td>[options.isNewRecord=true]</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>[options.include]</td>
<td>Array</td>
<td>an array of include options - Used to build prefetched/included model instances. See <code>set</code></td>
</tr>
</tbody>
</table>
<hr>
<p><a name="create"></a></p>
<h2 id="createvalues-options-promiseinstance"><code>create(values, [options])</code> -&gt; <code>Promise.&lt;Instance&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1815">View code</a></p>
<p>Builds a new model instance and calls save on it.</p>
<p><strong>See:</strong></p>
<ul>
<li><a href="./instance#build">Instance#build</a></li>
<li><a href="./instance#save">Instance#save</a></li>
</ul>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>values</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>[options]</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>[options.raw=false]</td>
<td>Boolean</td>
<td>If set to true, values will ignore field and virtual setters.</td>
</tr>
<tr>
<td>[options.isNewRecord=true]</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>[options.fields]</td>
<td>Array</td>
<td>If set, only columns matching those in fields will be saved</td>
</tr>
<tr>
<td>[options.include]</td>
<td>Array</td>
<td>an array of include options - Used to build prefetched/included model instances</td>
</tr>
<tr>
<td>[options.onDuplicate]</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>[options.transaction]</td>
<td>Transaction</td>
<td>Transaction to run query under</td>
</tr>
<tr>
<td>[options.logging=false]</td>
<td>Function</td>
<td>A function that gets executed while running the query to log the sql.</td>
</tr>
<tr>
<td>[options.searchPath=DEFAULT]</td>
<td>String</td>
<td>An optional parameter to specify the schema search_path (Postgres only)</td>
</tr>
<tr>
<td>[options.benchmark=false]</td>
<td>Boolean</td>
<td>Print query execution time in milliseconds when logging SQL.</td>
</tr>
</tbody>
</table>
<hr>
<p><a name="findorinitialize"></a></p>
<h2 id="findorinitialize-promiseinstance-initialized"><code>findOrInitialize</code> -&gt; <code>Promise.&lt;Instance, initialized&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1841">View code</a></p>
<p>Find a row that matches the query, or build (but don't save) the row if none is found.
The successful result of the promise will be (instance, initialized) - Make sure to use .spread()</p>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>options</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>options.where</td>
<td>Object</td>
<td>A hash of search attributes.</td>
</tr>
<tr>
<td>[options.defaults]</td>
<td>Object</td>
<td>Default values to use if building a new instance</td>
</tr>
<tr>
<td>[options.transaction]</td>
<td>Object</td>
<td>Transaction to run query under</td>
</tr>
<tr>
<td>[options.logging=false]</td>
<td>Function</td>
<td>A function that gets executed while running the query to log the sql.</td>
</tr>
<tr>
<td>[options.benchmark=false]</td>
<td>Boolean</td>
<td>Print query execution time in milliseconds when logging SQL.</td>
</tr>
</tbody>
</table>
<p><strong>Aliases:</strong> findOrBuild</p>
<hr>
<p><a name="findorcreate"></a></p>
<h2 id="findorcreateoptions-promiseinstance-created"><code>findOrCreate(options)</code> -&gt; <code>Promise.&lt;Instance, created&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1883">View code</a></p>
<p>Find a row that matches the query, or build and save the row if none is found
The successful result of the promise will be (instance, created) - Make sure to use .spread()</p>
<p>If no transaction is passed in the <code>options</code> object, a new transaction will be created internally, to prevent the race condition where a matching row is created by another connection after the find but before the insert call.
However, it is not always possible to handle this case in SQLite, specifically if one transaction inserts and another tries to select before the first one has committed. In this case, an instance of sequelize.TimeoutError will be thrown instead.
If a transaction is created, a savepoint will be created instead, and any unique constraint violation will be handled internally.</p>
<p><strong>See:</strong></p>
<ul>
<li><a href="./model#findall">Model#findAll</a></li>
</ul>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>options</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>options.where</td>
<td>Object</td>
<td>where A hash of search attributes.</td>
</tr>
<tr>
<td>[options.defaults]</td>
<td>Object</td>
<td>Default values to use if creating a new instance</td>
</tr>
<tr>
<td>[options.transaction]</td>
<td>Transaction</td>
<td>Transaction to run query under</td>
</tr>
</tbody>
</table>
<hr>
<p><a name="findcreatefind"></a></p>
<h2 id="findcreatefindoptions-promiseinstance-created"><code>findCreateFind(options)</code> -&gt; <code>Promise.&lt;Instance, created&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L1969">View code</a></p>
<p>A more performant findOrCreate that will not work under a transaction (at least not in postgres)
Will execute a find call, if empty then attempt to create, if unique constraint then attempt to find again</p>
<p><strong>See:</strong></p>
<ul>
<li><a href="./model#findall">Model#findAll</a></li>
</ul>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>options</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>options.where</td>
<td>Object</td>
<td>where A hash of search attributes.</td>
</tr>
<tr>
<td>[options.defaults]</td>
<td>Object</td>
<td>Default values to use if creating a new instance</td>
</tr>
</tbody>
</table>
<hr>
<p><a name="upsert"></a></p>
<h2 id="upsertvalues-options-promisecreated"><code>upsert(values, [options])</code> -&gt; <code>Promise.&lt;created&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L2018">View code</a></p>
<p>Insert or update a single row. An update will be executed if a row which matches the supplied values on either the primary key or a unique key is found. Note that the unique index must be defined in your sequelize model and not just in the table. Otherwise you may experience a unique constraint violation, because sequelize fails to identify the row that should be updated.</p>
<p><strong>Implementation details:</strong></p>
<ul>
<li>MySQL - Implemented as a single query <code>INSERT values ON DUPLICATE KEY UPDATE values</code></li>
<li>PostgreSQL - Implemented as a temporary function with exception handling: INSERT EXCEPTION WHEN unique_constraint UPDATE</li>
<li>SQLite - Implemented as two queries <code>INSERT; UPDATE</code>. This means that the update is executed regardless of whether the row already existed or not</li>
</ul>
<p><strong>Note</strong> that SQLite returns undefined for created, no matter if the row was created or updated. This is because SQLite always runs INSERT OR IGNORE + UPDATE, in a single query, so there is no way to know whether the row was inserted or not.</p>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>values</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>[options]</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>[options.validate=true]</td>
<td>Boolean</td>
<td>Run validations before the row is inserted</td>
</tr>
<tr>
<td>[options.fields=Object.keys(this.attributes)]</td>
<td>Array</td>
<td>The fields to insert / update. Defaults to all fields</td>
</tr>
<tr>
<td>[options.transaction]</td>
<td>Transaction</td>
<td>Transaction to run query under</td>
</tr>
<tr>
<td>[options.logging=false]</td>
<td>Function</td>
<td>A function that gets executed while running the query to log the sql.</td>
</tr>
<tr>
<td>[options.searchPath=DEFAULT]</td>
<td>String</td>
<td>An optional parameter to specify the schema search_path (Postgres only)</td>
</tr>
<tr>
<td>[options.benchmark=false]</td>
<td>Boolean</td>
<td>Print query execution time in milliseconds when logging SQL.</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong> Returns a boolean indicating whether the row was created or updated.
<strong>Aliases:</strong> insertOrUpdate</p>
<hr>
<p><a name="bulkcreate"></a></p>
<h2 id="bulkcreaterecords-options-promisearrayinstance"><code>bulkCreate(records, [options])</code> -&gt; <code>Promise.&lt;Array.&lt;Instance&gt;&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L2081">View code</a></p>
<p>Create and insert multiple instances in bulk.</p>
<p>The success handler is passed an array of instances, but please notice that these may not completely represent the state of the rows in the DB. This is because MySQL
and SQLite do not make it easy to obtain back automatically generated IDs and other default values in a way that can be mapped to multiple records.
To obtain Instances for the newly created values, you will need to query for them again.</p>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>records</td>
<td>Array</td>
<td>List of objects (key/value pairs) to create instances from</td>
</tr>
<tr>
<td>[options]</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>[options.fields]</td>
<td>Array</td>
<td>Fields to insert (defaults to all fields)</td>
</tr>
<tr>
<td>[options.validate=false]</td>
<td>Boolean</td>
<td>Should each row be subject to validation before it is inserted. The whole insert will fail if one row fails validation</td>
</tr>
<tr>
<td>[options.hooks=true]</td>
<td>Boolean</td>
<td>Run before / after bulk create hooks?</td>
</tr>
<tr>
<td>[options.individualHooks=false]</td>
<td>Boolean</td>
<td>Run before / after create hooks for each individual Instance? BulkCreate hooks will still be run if options.hooks is true.</td>
</tr>
<tr>
<td>[options.ignoreDuplicates=false]</td>
<td>Boolean</td>
<td>Ignore duplicate values for primary keys? (not supported by postgres)</td>
</tr>
<tr>
<td>[options.updateOnDuplicate]</td>
<td>Array</td>
<td>Fields to update if row key already exists (on duplicate key update)? (only supported by mysql &amp; mariadb). By default, all fields are updated.</td>
</tr>
<tr>
<td>[options.transaction]</td>
<td>Transaction</td>
<td>Transaction to run query under</td>
</tr>
<tr>
<td>[options.logging=false]</td>
<td>Function</td>
<td>A function that gets executed while running the query to log the sql.</td>
</tr>
<tr>
<td>[options.returning=false]</td>
<td>Boolean</td>
<td>Append RETURNING * to get back auto generated values (Postgres only)</td>
</tr>
<tr>
<td>[options.searchPath=DEFAULT]</td>
<td>String</td>
<td>An optional parameter to specify the schema search_path (Postgres only)</td>
</tr>
<tr>
<td>[options.benchmark=false]</td>
<td>Boolean</td>
<td>Print query execution time in milliseconds when logging SQL.</td>
</tr>
</tbody>
</table>
<hr>
<p><a name="truncate"></a></p>
<h2 id="truncateoptions-promise"><code>truncate([options])</code> -&gt; <code>Promise</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L2234">View code</a></p>
<p>Truncate all instances of the model. This is a convenient method for Model.destroy({ truncate: true }).</p>
<p><strong>See:</strong></p>
<ul>
<li><a href="./model#destroy">Model#destroy</a></li>
</ul>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>[options]</td>
<td>object</td>
<td>The options passed to Model.destroy in addition to truncate</td>
</tr>
<tr>
<td>[options.transaction]</td>
<td>Boolean | function</td>
<td>Transaction to run query under</td>
</tr>
<tr>
<td>[options.cascade</td>
<td>Boolean | function</td>
<td>= false] Only used in conjunction with TRUNCATE. Truncates all tables that have foreign-key references to the named table, or to any tables added to the group due to CASCADE.</td>
</tr>
<tr>
<td>[options.transaction]</td>
<td>Transaction</td>
<td>Transaction to run query under</td>
</tr>
<tr>
<td>[options.logging]</td>
<td>Boolean | function</td>
<td>A function that logs sql queries, or false for no logging</td>
</tr>
<tr>
<td>[options.searchPath=DEFAULT]</td>
<td>String</td>
<td>An optional parameter to specify the schema search_path (Postgres only)</td>
</tr>
<tr>
<td>[options.benchmark=false]</td>
<td>Boolean</td>
<td>Print query execution time in milliseconds when logging SQL.</td>
</tr>
</tbody>
</table>
<hr>
<p><a name="destroy"></a></p>
<h2 id="destroyoptions-promiseinteger"><code>destroy(options)</code> -&gt; <code>Promise.&lt;Integer&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L2256">View code</a></p>
<p>Delete multiple instances, or set their deletedAt timestamp to the current time if <code>paranoid</code> is enabled.</p>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>options</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>[options.where]</td>
<td>Object</td>
<td>Filter the destroy</td>
</tr>
<tr>
<td>[options.hooks=true]</td>
<td>Boolean</td>
<td>Run before / after bulk destroy hooks?</td>
</tr>
<tr>
<td>[options.individualHooks=false]</td>
<td>Boolean</td>
<td>If set to true, destroy will SELECT all records matching the where parameter and will execute before / after destroy hooks on each row</td>
</tr>
<tr>
<td>[options.limit]</td>
<td>Number</td>
<td>How many rows to delete</td>
</tr>
<tr>
<td>[options.force=false]</td>
<td>Boolean</td>
<td>Delete instead of setting deletedAt to current timestamp (only applicable if <code>paranoid</code> is enabled)</td>
</tr>
<tr>
<td>[options.truncate=false]</td>
<td>Boolean</td>
<td>If set to true, dialects that support it will use TRUNCATE instead of DELETE FROM. If a table is truncated the where and limit options are ignored</td>
</tr>
<tr>
<td>[options.cascade=false]</td>
<td>Boolean</td>
<td>Only used in conjunction with TRUNCATE. Truncates all tables that have foreign-key references to the named table, or to any tables added to the group due to CASCADE.</td>
</tr>
<tr>
<td>[options.restartIdentity=false]</td>
<td>Boolean</td>
<td>Only used in conjunction with TRUNCATE. Automatically restart sequences owned by columns of the truncated table. Postgres only.</td>
</tr>
<tr>
<td>[options.transaction]</td>
<td>Transaction</td>
<td>Transaction to run query under</td>
</tr>
<tr>
<td>[options.logging=false]</td>
<td>Function</td>
<td>A function that gets executed while running the query to log the sql.</td>
</tr>
<tr>
<td>[options.benchmark=false]</td>
<td>Boolean</td>
<td>Print query execution time in milliseconds when logging SQL.</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong> The number of destroyed rows</p>
<hr>
<p><a name="restore"></a></p>
<h2 id="restoreoptions-promiseundefined"><code>restore(options)</code> -&gt; <code>Promise.&lt;undefined&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L2338">View code</a></p>
<p>Restore multiple instances if <code>paranoid</code> is enabled.</p>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>options</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>[options.where]</td>
<td>Object</td>
<td>Filter the restore</td>
</tr>
<tr>
<td>[options.hooks=true]</td>
<td>Boolean</td>
<td>Run before / after bulk restore hooks?</td>
</tr>
<tr>
<td>[options.individualHooks=false]</td>
<td>Boolean</td>
<td>If set to true, restore will find all records within the where parameter and will execute before / after bulkRestore hooks on each row</td>
</tr>
<tr>
<td>[options.limit]</td>
<td>Number</td>
<td>How many rows to undelete</td>
</tr>
<tr>
<td>[options.logging=false]</td>
<td>Function</td>
<td>A function that gets executed while running the query to log the sql.</td>
</tr>
<tr>
<td>[options.benchmark=false]</td>
<td>Boolean</td>
<td>Print query execution time in milliseconds when logging SQL.</td>
</tr>
<tr>
<td>[options.transaction]</td>
<td>Transaction</td>
<td>Transaction to run query under</td>
</tr>
</tbody>
</table>
<hr>
<p><a name="update"></a></p>
<h2 id="updatevalues-options-promisearrayaffectedcount-affectedrows"><code>update(values, options)</code> -&gt; <code>Promise.&lt;Array.&lt;affectedCount, affectedRows&gt;&gt;</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L2417">View code</a></p>
<p>Update multiple instances that match the where options. The promise returns an array with one or two elements. The first element is always the number
of affected rows, while the second element is the actual affected rows (only supported in postgres with <code>options.returning</code> true.)</p>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>values</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>options</td>
<td>Object</td>
<td></td>
</tr>
<tr>
<td>options.where</td>
<td>Object</td>
<td>Options to describe the scope of the search.</td>
</tr>
<tr>
<td>[options.fields]</td>
<td>Array</td>
<td>Fields to update (defaults to all fields)</td>
</tr>
<tr>
<td>[options.validate=true]</td>
<td>Boolean</td>
<td>Should each row be subject to validation before it is inserted. The whole insert will fail if one row fails validation</td>
</tr>
<tr>
<td>[options.hooks=true]</td>
<td>Boolean</td>
<td>Run before / after bulk update hooks?</td>
</tr>
<tr>
<td>[options.sideEffects=true]</td>
<td>Boolean</td>
<td>Whether or not to update the side effects of any virtual setters.</td>
</tr>
<tr>
<td>[options.individualHooks=false]</td>
<td>Boolean</td>
<td>Run before / after update hooks?. If true, this will execute a SELECT followed by individual UPDATEs. A select is needed, because the row data needs to be passed to the hooks</td>
</tr>
<tr>
<td>[options.returning=false]</td>
<td>Boolean</td>
<td>Return the affected rows (only for postgres)</td>
</tr>
<tr>
<td>[options.limit]</td>
<td>Number</td>
<td>How many rows to update (only for mysql and mariadb)</td>
</tr>
<tr>
<td>[options.logging=false]</td>
<td>Function</td>
<td>A function that gets executed while running the query to log the sql.</td>
</tr>
<tr>
<td>[options.benchmark=false]</td>
<td>Boolean</td>
<td>Print query execution time in milliseconds when logging SQL.</td>
</tr>
<tr>
<td>[options.transaction]</td>
<td>Transaction</td>
<td>Transaction to run query under</td>
</tr>
<tr>
<td>[options.silent=false]</td>
<td>Boolean</td>
<td>If true, the updatedAt timestamp will not be updated.</td>
</tr>
</tbody>
</table>
<hr>
<p><a name="describe"></a></p>
<h2 id="describe-promise"><code>describe()</code> -&gt; <code>Promise</code></h2>
<p><a href="https://github.com/sequelize/sequelize/blob/3e5b8772ef75169685fc96024366bca9958fee63/lib/model.js#L2613">View code</a></p>
<p>Run a describe query on the table. The result will be return to the listener as a hash of attributes and their types.</p>
<hr>
<p><em>This document is automatically generated based on source code comments. Please do not edit it directly, as your changes will be ignored. Please write on <a href="irc://irc.freenode.net/#sequelizejs">IRC</a>, open an issue or a create a pull request if you feel something can be improved. For help on how to write source code documentation see <a href="http://usejsdoc.org">JSDoc</a> and <a href="https://github.com/tj/dox">dox</a></em></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="/v3/api/instance/" class="btn btn-neutral float-right" title="Instance">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="/v3/api/sequelize/" class="btn btn-neutral" title="Sequelize"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/sequelize/sequelize/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="/v3/api/sequelize/" style="color: #fcfcfc">« Previous</a></span>
    
    
      <span><a href="/v3/api/instance/" style="color: #fcfcfc">Next »</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="/v3/js/theme_extra.js" defer=""></script>
    <script src="/v3/js/theme.js" defer=""></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js" defer=""></script>
      <script src="/v3/search/main.js" defer=""></script>
    <script defer="">
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>



</body></html>